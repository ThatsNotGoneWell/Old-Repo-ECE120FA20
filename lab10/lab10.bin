; This is the file you will use for the lab assignment
; Make sure to comment your code properly and don't exceed 
; the line limitation for this assignment.  Good luck!

0011 0001 0000 0000 ; x3100 - starting address of the program

; The program description and code starts here

; Zekai Zhang 2020/11/11
; read the value in x3132, and decide if the value is positive.
; If it is, then add it to a predefined memory location.
; Otherwise, skip the sumation step and do the same to the next step using loop.
; There are 10 iterations for this loop. It iterates from x3132 to x313B

; R2 holds the memory address
; R3 holds the value of the memory address in R2
; R4 is used as a loop control
; R5 holds the sum of positive numbers

00110001 00000000	; starting address is x3100

0101 101 001 1 00000	; R5 <- 0		clear the current value
0101 100 001 1 00000	; R4 <- 0		clear the current value
0001 100 100 1 01010	; R4 <- R4 + 10		set R4 to 10
0010 010 000000111	; R2 <- M[PC+x7]	store the address x3132 in R2
0110 011 010 000000	; R3 <- M[R2]		store the value in R2 into R3
0000 100 000000001	; if n, PC <- PC+x1	jump over the next step if smaller than '0'	
0001 101 101 0 00 011	; R5 <- R5 + R3		add R3 to R5
0001 010 010 1 00001	; R2 <- R2 + 1		add R2 by 1 for the next loop
0001 100 100 1 11111	; R4 <- R4 - 1		subtract R4 by 1 for the next loop
0000 001 111111010	; if n, PC <- PC+xFFFA	jump back six steps if smaller than '0'
1111 0000 00100101	; HALT			halt the program
0011 0001 0011 0010	; x3132			has the memory address where the sumation starts
